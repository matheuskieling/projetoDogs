{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/mathe/Documents/backu\\u1E55/programming/origamid/react/projetoFinalDogs/dogs/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"C:/Users/mathe/Documents/backu\\u1E55/programming/origamid/react/projetoFinalDogs/dogs/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/mathe/Documents/backu\\u1E55/programming/origamid/react/projetoFinalDogs/dogs/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/mathe/Documents/backu\\u1E55/programming/origamid/react/projetoFinalDogs/dogs/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{COMMENT_POST}from'../../api';import{ReactComponent as Enviar}from'../../Assets/enviar.svg';import useFetch from'../../Hooks/useFetch';import Error from'../Helper/Error';import styles from'./PhotoCommentsForm.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PhotoCommentsForm=function PhotoCommentsForm(_ref){var id=_ref.id,setComments=_ref.setComments,single=_ref.single;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),comment=_React$useState2[0],setComment=_React$useState2[1];var _useFetch=useFetch(),request=_useFetch.request,error=_useFetch.error;function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _COMMENT_POST,url,options,_yield$request,response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_COMMENT_POST=COMMENT_POST(id,{comment:comment}),url=_COMMENT_POST.url,options=_COMMENT_POST.options;_context.next=4;return request(url,options);case 4:_yield$request=_context.sent;response=_yield$request.response;json=_yield$request.json;if(response.ok){setComment('');setComments(function(comments){return[].concat(_toConsumableArray(comments),[json]);});}case 8:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"form\",{className:\"\".concat(styles.form,\" \").concat(single?styles.single:''),onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{className:styles.textarea,id:\"comment\",name:\"comment\",placeholder:\"Comente...\",value:comment,onChange:function onChange(_ref2){var target=_ref2.target;return setComment(target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:styles.button,children:/*#__PURE__*/_jsx(Enviar,{})}),/*#__PURE__*/_jsx(Error,{error:error})]});};export default PhotoCommentsForm;","map":{"version":3,"names":["React","COMMENT_POST","ReactComponent","Enviar","useFetch","Error","styles","PhotoCommentsForm","id","setComments","single","useState","comment","setComment","request","error","handleSubmit","event","preventDefault","url","options","response","json","ok","comments","form","textarea","target","value","button"],"sources":["C:/Users/mathe/Documents/backuá¹•/programming/origamid/react/projetoFinalDogs/dogs/src/Components/Photo/PhotoCommentsForm.js"],"sourcesContent":["import React from 'react';\r\nimport { COMMENT_POST } from '../../api';\r\nimport { ReactComponent as Enviar } from '../../Assets/enviar.svg';\r\nimport useFetch from '../../Hooks/useFetch';\r\nimport Error from '../Helper/Error';\r\nimport styles from './PhotoCommentsForm.module.css';\r\n\r\nconst PhotoCommentsForm = ({ id, setComments, single }) => {\r\n  const [comment, setComment] = React.useState('');\r\n  const { request, error } = useFetch();\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    const { url, options } = COMMENT_POST(id, { comment });\r\n    const { response, json } = await request(url, options);\r\n    if (response.ok) {\r\n      setComment('');\r\n      setComments((comments) => [...comments, json]);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form\r\n      className={`${styles.form} ${single ? styles.single : ''}`}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <textarea\r\n        className={styles.textarea}\r\n        id=\"comment\"\r\n        name=\"comment\"\r\n        placeholder=\"Comente...\"\r\n        value={comment}\r\n        onChange={({ target }) => setComment(target.value)}\r\n      />\r\n      <button className={styles.button}>\r\n        <Enviar />\r\n      </button>\r\n      <Error error={error} />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PhotoCommentsForm;\r\n"],"mappings":"osBAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,YAAY,KAAQ,WAAW,CACxC,OAASC,cAAc,GAAIC,OAAM,KAAQ,yBAAyB,CAClE,MAAOC,SAAQ,KAAM,sBAAsB,CAC3C,MAAOC,MAAK,KAAM,iBAAiB,CACnC,MAAOC,OAAM,KAAM,gCAAgC,CAAC,wFAEpD,GAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,MAAoC,IAA9BC,GAAE,MAAFA,EAAE,CAAEC,WAAW,MAAXA,WAAW,CAAEC,MAAM,MAANA,MAAM,CAClD,oBAA8BV,KAAK,CAACW,QAAQ,CAAC,EAAE,CAAC,oDAAzCC,OAAO,qBAAEC,UAAU,qBAC1B,cAA2BT,QAAQ,EAAE,CAA7BU,OAAO,WAAPA,OAAO,CAAEC,KAAK,WAALA,KAAK,CAAgB,QAEvBC,aAAY,kJAA3B,iBAA4BC,KAAK,8KAC/BA,KAAK,CAACC,cAAc,EAAE,CAAC,cACEjB,YAAY,CAACO,EAAE,CAAE,CAAEI,OAAO,CAAPA,OAAQ,CAAC,CAAC,CAA9CO,GAAG,eAAHA,GAAG,CAAEC,OAAO,eAAPA,OAAO,uBACaN,QAAO,CAACK,GAAG,CAAEC,OAAO,CAAC,qCAA9CC,QAAQ,gBAARA,QAAQ,CAAEC,IAAI,gBAAJA,IAAI,CACtB,GAAID,QAAQ,CAACE,EAAE,CAAE,CACfV,UAAU,CAAC,EAAE,CAAC,CACdJ,WAAW,CAAC,SAACe,QAAQ,qCAASA,QAAQ,GAAEF,IAAI,IAAC,CAAC,CAChD,CAAC,qDACF,+CAED,mBACE,cACE,SAAS,WAAKhB,MAAM,CAACmB,IAAI,aAAIf,MAAM,CAAGJ,MAAM,CAACI,MAAM,CAAG,EAAE,CAAG,CAC3D,QAAQ,CAAEM,YAAa,wBAEvB,iBACE,SAAS,CAAEV,MAAM,CAACoB,QAAS,CAC3B,EAAE,CAAC,SAAS,CACZ,IAAI,CAAC,SAAS,CACd,WAAW,CAAC,YAAY,CACxB,KAAK,CAAEd,OAAQ,CACf,QAAQ,CAAE,4BAAGe,OAAM,OAANA,MAAM,OAAOd,WAAU,CAACc,MAAM,CAACC,KAAK,CAAC,EAAC,EACnD,cACF,eAAQ,SAAS,CAAEtB,MAAM,CAACuB,MAAO,uBAC/B,KAAC,MAAM,IAAG,EACH,cACT,KAAC,KAAK,EAAC,KAAK,CAAEd,KAAM,EAAG,GAClB,CAEX,CAAC,CAED,cAAeR,kBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}