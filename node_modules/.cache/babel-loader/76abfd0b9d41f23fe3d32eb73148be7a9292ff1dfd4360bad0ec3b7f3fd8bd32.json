{"ast":null,"code":"import _toConsumableArray from\"C:/Users/mathe/Documents/backu\\u1E55/programming/origamid/react/projetoFinalDogs/dogs/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/mathe/Documents/backu\\u1E55/programming/origamid/react/projetoFinalDogs/dogs/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import FeedModal from'./FeedModal';import FeedPhotos from'./FeedPhotos';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Feed=function Feed(_ref){var user=_ref.user;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),modalPhoto=_React$useState2[0],setModalPhoto=_React$useState2[1];var _React$useState3=React.useState([1]),_React$useState4=_slicedToArray(_React$useState3,2),pages=_React$useState4[0],setPages=_React$useState4[1];var _React$useState5=React.useState(true),_React$useState6=_slicedToArray(_React$useState5,2),infinite=_React$useState6[0],setInfinite=_React$useState6[1];React.useEffect(function(){var wait=false;function infiniteScroll(){if(infinite){var scroll=window.scrollY;var height=document.body.offsetHeight-window.innerHeight;if(scroll>height*0.75&&!wait){setPages(function(pages){return[].concat(_toConsumableArray(pages),[pages.length+1]);});wait=true;setTimeout(function(){wait=false;},500);}}}window.addEventListener('wheel',infiniteScroll);window.addEventListener('scroll',infiniteScroll);return function(){window.removeEventListener('wheel',infiniteScroll);window.removeEventListener('scroll',infiniteScroll);};},[infinite]);return/*#__PURE__*/_jsxs(\"div\",{children:[modalPhoto&&/*#__PURE__*/_jsx(FeedModal,{photo:modalPhoto,setModalPhoto:setModalPhoto}),pages.map(function(page){return/*#__PURE__*/_jsx(FeedPhotos,{user:user,page:page,setModalPhoto:setModalPhoto,setInfinite:setInfinite},page);})]});};Feed.defaultProps={user:0};export default Feed;","map":{"version":3,"names":["React","FeedModal","FeedPhotos","Feed","user","useState","modalPhoto","setModalPhoto","pages","setPages","infinite","setInfinite","useEffect","wait","infiniteScroll","scroll","window","scrollY","height","document","body","offsetHeight","innerHeight","length","setTimeout","addEventListener","removeEventListener","map","page","defaultProps"],"sources":["C:/Users/mathe/Documents/backuá¹•/programming/origamid/react/projetoFinalDogs/dogs/src/Components/Feed/Feed.js"],"sourcesContent":["import React from 'react';\r\nimport FeedModal from './FeedModal';\r\nimport FeedPhotos from './FeedPhotos';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Feed = ({ user }) => {\r\n  const [modalPhoto, setModalPhoto] = React.useState(null);\r\n  const [pages, setPages] = React.useState([1]);\r\n  const [infinite, setInfinite] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    let wait = false;\r\n    function infiniteScroll() {\r\n      if (infinite) {\r\n        const scroll = window.scrollY;\r\n        const height = document.body.offsetHeight - window.innerHeight;\r\n        if (scroll > height * 0.75 && !wait) {\r\n          setPages((pages) => [...pages, pages.length + 1]);\r\n          wait = true;\r\n          setTimeout(() => {\r\n            wait = false;\r\n          }, 500);\r\n        }\r\n      }\r\n    }\r\n\r\n    window.addEventListener('wheel', infiniteScroll);\r\n    window.addEventListener('scroll', infiniteScroll);\r\n    return () => {\r\n      window.removeEventListener('wheel', infiniteScroll);\r\n      window.removeEventListener('scroll', infiniteScroll);\r\n    };\r\n  }, [infinite]);\r\n\r\n  return (\r\n    <div>\r\n      {modalPhoto && (\r\n        <FeedModal photo={modalPhoto} setModalPhoto={setModalPhoto} />\r\n      )}\r\n      {pages.map((page) => (\r\n        <FeedPhotos\r\n          key={page}\r\n          user={user}\r\n          page={page}\r\n          setModalPhoto={setModalPhoto}\r\n          setInfinite={setInfinite}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nFeed.defaultProps = {\r\n  user: 0,\r\n};\r\n\r\nFeed.propTypes = {\r\n  user: PropTypes.oneOfType([\r\n    PropTypes.string.isRequired,\r\n    PropTypes.number.isRequired,\r\n  ]),\r\n};\r\n\r\nexport default Feed;\r\n"],"mappings":"8VAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,UAAS,KAAM,aAAa,CACnC,MAAOC,WAAU,KAAM,cAAc,CAAC,wFAGtC,GAAMC,KAAI,CAAG,QAAPA,KAAI,MAAiB,IAAXC,KAAI,MAAJA,IAAI,CAClB,oBAAoCJ,KAAK,CAACK,QAAQ,CAAC,IAAI,CAAC,oDAAjDC,UAAU,qBAAEC,aAAa,qBAChC,qBAA0BP,KAAK,CAACK,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,qDAAtCG,KAAK,qBAAEC,QAAQ,qBACtB,qBAAgCT,KAAK,CAACK,QAAQ,CAAC,IAAI,CAAC,qDAA7CK,QAAQ,qBAAEC,WAAW,qBAE5BX,KAAK,CAACY,SAAS,CAAC,UAAM,CACpB,GAAIC,KAAI,CAAG,KAAK,CAChB,QAASC,eAAc,EAAG,CACxB,GAAIJ,QAAQ,CAAE,CACZ,GAAMK,OAAM,CAAGC,MAAM,CAACC,OAAO,CAC7B,GAAMC,OAAM,CAAGC,QAAQ,CAACC,IAAI,CAACC,YAAY,CAAGL,MAAM,CAACM,WAAW,CAC9D,GAAIP,MAAM,CAAGG,MAAM,CAAG,IAAI,EAAI,CAACL,IAAI,CAAE,CACnCJ,QAAQ,CAAC,SAACD,KAAK,qCAASA,KAAK,GAAEA,KAAK,CAACe,MAAM,CAAG,CAAC,IAAC,CAAC,CACjDV,IAAI,CAAG,IAAI,CACXW,UAAU,CAAC,UAAM,CACfX,IAAI,CAAG,KAAK,CACd,CAAC,CAAE,GAAG,CAAC,CACT,CACF,CACF,CAEAG,MAAM,CAACS,gBAAgB,CAAC,OAAO,CAAEX,cAAc,CAAC,CAChDE,MAAM,CAACS,gBAAgB,CAAC,QAAQ,CAAEX,cAAc,CAAC,CACjD,MAAO,WAAM,CACXE,MAAM,CAACU,mBAAmB,CAAC,OAAO,CAAEZ,cAAc,CAAC,CACnDE,MAAM,CAACU,mBAAmB,CAAC,QAAQ,CAAEZ,cAAc,CAAC,CACtD,CAAC,CACH,CAAC,CAAE,CAACJ,QAAQ,CAAC,CAAC,CAEd,mBACE,uBACGJ,UAAU,eACT,KAAC,SAAS,EAAC,KAAK,CAAEA,UAAW,CAAC,aAAa,CAAEC,aAAc,EAC5D,CACAC,KAAK,CAACmB,GAAG,CAAC,SAACC,IAAI,qBACd,KAAC,UAAU,EAET,IAAI,CAAExB,IAAK,CACX,IAAI,CAAEwB,IAAK,CACX,aAAa,CAAErB,aAAc,CAC7B,WAAW,CAAEI,WAAY,EAJpBiB,IAAI,CAKT,EACH,CAAC,GACE,CAEV,CAAC,CAEDzB,IAAI,CAAC0B,YAAY,CAAG,CAClBzB,IAAI,CAAE,CACR,CAAC,CASD,cAAeD,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}