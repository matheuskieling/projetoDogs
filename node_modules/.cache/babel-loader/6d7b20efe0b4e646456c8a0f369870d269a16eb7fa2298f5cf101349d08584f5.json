{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/mathe/Documents/backu\\u1E55/programming/origamid/react/projetoFinalDogs/dogs/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/mathe/Documents/backu\\u1E55/programming/origamid/react/projetoFinalDogs/dogs/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{PHOTOS_GET}from'../../api';import useFetch from'../../Hooks/useFetch';import FeedPhotosItem from'./FeedPhotosItem';import Error from'../Helper/Error';import Loading from'../Helper/Loading';import styles from'./FeedPhotos.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";var FeedPhotos=function FeedPhotos(_ref){var page=_ref.page,user=_ref.user,setModalPhoto=_ref.setModalPhoto,setInfinite=_ref.setInfinite;var _useFetch=useFetch(),data=_useFetch.data,loading=_useFetch.loading,error=_useFetch.error,request=_useFetch.request;React.useEffect(function(){function fetchPhotos(){return _fetchPhotos.apply(this,arguments);}function _fetchPhotos(){_fetchPhotos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var total,_PHOTOS_GET,url,options,_yield$request,response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:total=6;_PHOTOS_GET=PHOTOS_GET({page:page,total:total,user:user}),url=_PHOTOS_GET.url,options=_PHOTOS_GET.options;_context.next=4;return request(url,options);case 4:_yield$request=_context.sent;response=_yield$request.response;json=_yield$request.json;if(response&&response.ok&&json.length<total)setInfinite(false);case 8:case\"end\":return _context.stop();}},_callee);}));return _fetchPhotos.apply(this,arguments);}fetchPhotos();},[request,user,page,setInfinite]);if(error)return/*#__PURE__*/_jsx(Error,{error:error});if(loading)return/*#__PURE__*/_jsx(Loading,{});if(data)return/*#__PURE__*/_jsx(\"ul\",{className:\"\".concat(styles.feed,\" animeLeft\"),children:data.map(function(photo){return/*#__PURE__*/_jsx(FeedPhotosItem,{photo:photo,setModalPhoto:setModalPhoto},photo.id);})});else return null;};export default FeedPhotos;","map":{"version":3,"names":["React","PHOTOS_GET","useFetch","FeedPhotosItem","Error","Loading","styles","FeedPhotos","page","user","setModalPhoto","setInfinite","data","loading","error","request","useEffect","fetchPhotos","total","url","options","response","json","ok","length","feed","map","photo","id"],"sources":["C:/Users/mathe/Documents/backuá¹•/programming/origamid/react/projetoFinalDogs/dogs/src/Components/Feed/FeedPhotos.js"],"sourcesContent":["import React from 'react';\r\nimport { PHOTOS_GET } from '../../api';\r\nimport useFetch from '../../Hooks/useFetch';\r\nimport FeedPhotosItem from './FeedPhotosItem';\r\nimport Error from '../Helper/Error';\r\nimport Loading from '../Helper/Loading';\r\nimport styles from './FeedPhotos.module.css';\r\n\r\nconst FeedPhotos = ({ page, user, setModalPhoto, setInfinite }) => {\r\n  const { data, loading, error, request } = useFetch();\r\n\r\n  React.useEffect(() => {\r\n    async function fetchPhotos() {\r\n      const total = 6;\r\n      const { url, options } = PHOTOS_GET({ page, total, user });\r\n      const { response, json } = await request(url, options);\r\n      if (response && response.ok && json.length < total) setInfinite(false);\r\n    }\r\n    fetchPhotos();\r\n  }, [request, user, page, setInfinite]);\r\n\r\n  if (error) return <Error error={error} />;\r\n  if (loading) return <Loading />;\r\n  if (data)\r\n    return (\r\n      <ul className={`${styles.feed} animeLeft`}>\r\n        {data.map((photo) => (\r\n          <FeedPhotosItem\r\n            key={photo.id}\r\n            photo={photo}\r\n            setModalPhoto={setModalPhoto}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  else return null;\r\n};\r\n\r\nexport default FeedPhotos;\r\n"],"mappings":"sWAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,WAAW,CACtC,MAAOC,SAAQ,KAAM,sBAAsB,CAC3C,MAAOC,eAAc,KAAM,kBAAkB,CAC7C,MAAOC,MAAK,KAAM,iBAAiB,CACnC,MAAOC,QAAO,KAAM,mBAAmB,CACvC,MAAOC,OAAM,KAAM,yBAAyB,CAAC,2CAE7C,GAAMC,WAAU,CAAG,QAAbA,WAAU,MAAmD,IAA7CC,KAAI,MAAJA,IAAI,CAAEC,IAAI,MAAJA,IAAI,CAAEC,aAAa,MAAbA,aAAa,CAAEC,WAAW,MAAXA,WAAW,CAC1D,cAA0CT,QAAQ,EAAE,CAA5CU,IAAI,WAAJA,IAAI,CAAEC,OAAO,WAAPA,OAAO,CAAEC,KAAK,WAALA,KAAK,CAAEC,OAAO,WAAPA,OAAO,CAErCf,KAAK,CAACgB,SAAS,CAAC,UAAM,SACLC,YAAW,6IAA1B,mMACQC,KAAK,CAAG,CAAC,aACUjB,UAAU,CAAC,CAAEO,IAAI,CAAJA,IAAI,CAAEU,KAAK,CAALA,KAAK,CAAET,IAAI,CAAJA,IAAK,CAAC,CAAC,CAAlDU,GAAG,aAAHA,GAAG,CAAEC,OAAO,aAAPA,OAAO,uBACaL,QAAO,CAACI,GAAG,CAAEC,OAAO,CAAC,qCAA9CC,QAAQ,gBAARA,QAAQ,CAAEC,IAAI,gBAAJA,IAAI,CACtB,GAAID,QAAQ,EAAIA,QAAQ,CAACE,EAAE,EAAID,IAAI,CAACE,MAAM,CAAGN,KAAK,CAAEP,WAAW,CAAC,KAAK,CAAC,CAAC,qDACxE,8CACDM,WAAW,EAAE,CACf,CAAC,CAAE,CAACF,OAAO,CAAEN,IAAI,CAAED,IAAI,CAAEG,WAAW,CAAC,CAAC,CAEtC,GAAIG,KAAK,CAAE,mBAAO,KAAC,KAAK,EAAC,KAAK,CAAEA,KAAM,EAAG,CACzC,GAAID,OAAO,CAAE,mBAAO,KAAC,OAAO,IAAG,CAC/B,GAAID,IAAI,CACN,mBACE,WAAI,SAAS,WAAKN,MAAM,CAACmB,IAAI,cAAa,UACvCb,IAAI,CAACc,GAAG,CAAC,SAACC,KAAK,qBACd,KAAC,cAAc,EAEb,KAAK,CAAEA,KAAM,CACb,aAAa,CAAEjB,aAAc,EAFxBiB,KAAK,CAACC,EAAE,CAGb,EACH,CAAC,EACC,CACL,IACC,OAAO,KAAI,CAClB,CAAC,CAED,cAAerB,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}