{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/mathe/Documents/backu\\u1E55/programming/origamid/react/projetoFinalDogs/dogs/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/mathe/Documents/backu\\u1E55/programming/origamid/react/projetoFinalDogs/dogs/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/mathe/Documents/backu\\u1E55/programming/origamid/react/projetoFinalDogs/dogs/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{USER_POST}from'../../api';import useFetch from'../../Hooks/useFetch';import useForm from'../../Hooks/useForm';import{UserContext}from'../../UserContext';import Button from'../Forms/Button';import Input from'../Forms/Input';import Error from'../Helper/Error';import Head from'../Helper/Head';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginCreate=function LoginCreate(){var username=useForm();var email=useForm('email');var password=useForm('password');var _React$useContext=React.useContext(UserContext),userLogin=_React$useContext.userLogin;var _useFetch=useFetch(),loading=_useFetch.loading,error=_useFetch.error,request=_useFetch.request;function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _USER_POST,url,options,_yield$request,response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_USER_POST=USER_POST({username:username.value,email:email.value,password:password.value}),url=_USER_POST.url,options=_USER_POST.options;_context.next=4;return request(url,options);case 4:_yield$request=_context.sent;response=_yield$request.response;json=_yield$request.json;if(response.ok)userLogin(username.value,password.value);case 8:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"section\",{className:\"animeLeft\",children:[/*#__PURE__*/_jsx(Head,{title:\"Crie sua Conta\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Cadastre-se\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Input,_objectSpread({label:\"Usu\\xE1rio\",type:\"text\",name:\"username\"},username)),/*#__PURE__*/_jsx(Input,_objectSpread({label:\"Email\",type:\"email\",name:\"email\"},email)),/*#__PURE__*/_jsx(Input,_objectSpread({label:\"Senha\",type:\"password\",name:\"password\"},password)),loading?/*#__PURE__*/_jsx(Button,{disabled:true,children:\"Cadastrando...\"}):/*#__PURE__*/_jsx(Button,{children:\"Cadastrar\"}),/*#__PURE__*/_jsx(Error,{error:error})]})]});};export default LoginCreate;","map":{"version":3,"names":["React","USER_POST","useFetch","useForm","UserContext","Button","Input","Error","Head","LoginCreate","username","email","password","useContext","userLogin","loading","error","request","handleSubmit","event","preventDefault","value","url","options","response","json","ok"],"sources":["C:/Users/mathe/Documents/backuṕ/programming/origamid/react/projetoFinalDogs/dogs/src/Components/Login/LoginCreate.js"],"sourcesContent":["import React from 'react';\r\nimport { USER_POST } from '../../api';\r\nimport useFetch from '../../Hooks/useFetch';\r\nimport useForm from '../../Hooks/useForm';\r\nimport { UserContext } from '../../UserContext';\r\nimport Button from '../Forms/Button';\r\nimport Input from '../Forms/Input';\r\nimport Error from '../Helper/Error';\r\nimport Head from '../Helper/Head';\r\n\r\nconst LoginCreate = () => {\r\n  const username = useForm();\r\n  const email = useForm('email');\r\n  const password = useForm('password');\r\n\r\n  const { userLogin } = React.useContext(UserContext);\r\n  const { loading, error, request } = useFetch();\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    const { url, options } = USER_POST({\r\n      username: username.value,\r\n      email: email.value,\r\n      password: password.value,\r\n    });\r\n    const { response, json } = await request(url, options);\r\n    if (response.ok) userLogin(username.value, password.value);\r\n  }\r\n\r\n  return (\r\n    <section className=\"animeLeft\">\r\n      <Head title=\"Crie sua Conta\" />\r\n      <h1 className=\"title\">Cadastre-se</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <Input label=\"Usuário\" type=\"text\" name=\"username\" {...username} />\r\n        <Input label=\"Email\" type=\"email\" name=\"email\" {...email} />\r\n        <Input label=\"Senha\" type=\"password\" name=\"password\" {...password} />\r\n        {loading ? (\r\n          <Button disabled>Cadastrando...</Button>\r\n        ) : (\r\n          <Button>Cadastrar</Button>\r\n        )}\r\n        <Error error={error} />\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default LoginCreate;\r\n"],"mappings":"ghBAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,WAAW,CACrC,MAAOC,SAAQ,KAAM,sBAAsB,CAC3C,MAAOC,QAAO,KAAM,qBAAqB,CACzC,OAASC,WAAW,KAAQ,mBAAmB,CAC/C,MAAOC,OAAM,KAAM,iBAAiB,CACpC,MAAOC,MAAK,KAAM,gBAAgB,CAClC,MAAOC,MAAK,KAAM,iBAAiB,CACnC,MAAOC,KAAI,KAAM,gBAAgB,CAAC,wFAElC,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,GAAMC,SAAQ,CAAGP,OAAO,EAAE,CAC1B,GAAMQ,MAAK,CAAGR,OAAO,CAAC,OAAO,CAAC,CAC9B,GAAMS,SAAQ,CAAGT,OAAO,CAAC,UAAU,CAAC,CAEpC,sBAAsBH,KAAK,CAACa,UAAU,CAACT,WAAW,CAAC,CAA3CU,SAAS,mBAATA,SAAS,CACjB,cAAoCZ,QAAQ,EAAE,CAAtCa,OAAO,WAAPA,OAAO,CAAEC,KAAK,WAALA,KAAK,CAAEC,OAAO,WAAPA,OAAO,CAAgB,QAEhCC,aAAY,kJAA3B,iBAA4BC,KAAK,2KAC/BA,KAAK,CAACC,cAAc,EAAE,CAAC,WACEnB,SAAS,CAAC,CACjCS,QAAQ,CAAEA,QAAQ,CAACW,KAAK,CACxBV,KAAK,CAAEA,KAAK,CAACU,KAAK,CAClBT,QAAQ,CAAEA,QAAQ,CAACS,KACrB,CAAC,CAAC,CAJMC,GAAG,YAAHA,GAAG,CAAEC,OAAO,YAAPA,OAAO,uBAKaN,QAAO,CAACK,GAAG,CAAEC,OAAO,CAAC,qCAA9CC,QAAQ,gBAARA,QAAQ,CAAEC,IAAI,gBAAJA,IAAI,CACtB,GAAID,QAAQ,CAACE,EAAE,CAAEZ,SAAS,CAACJ,QAAQ,CAACW,KAAK,CAAET,QAAQ,CAACS,KAAK,CAAC,CAAC,qDAC5D,+CAED,mBACE,iBAAS,SAAS,CAAC,WAAW,wBAC5B,KAAC,IAAI,EAAC,KAAK,CAAC,gBAAgB,EAAG,cAC/B,WAAI,SAAS,CAAC,OAAO,UAAC,aAAW,EAAK,cACtC,cAAM,QAAQ,CAAEH,YAAa,wBAC3B,KAAC,KAAK,gBAAC,KAAK,CAAC,YAAS,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAKR,QAAQ,EAAI,cACnE,KAAC,KAAK,gBAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAKC,KAAK,EAAI,cAC5D,KAAC,KAAK,gBAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,EAAKC,QAAQ,EAAI,CACpEG,OAAO,cACN,KAAC,MAAM,EAAC,QAAQ,eAAC,gBAAc,EAAS,cAExC,KAAC,MAAM,WAAC,WAAS,EAClB,cACD,KAAC,KAAK,EAAC,KAAK,CAAEC,KAAM,EAAG,GAClB,GACC,CAEd,CAAC,CAED,cAAeP,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}